<div class="content-cuadro">
    <div class="cuadro">
        <!-- Titulo -->
        <div>
            <h1 class="titulo">Contratos</h1>
        </div>
        <div *ngIf="tipo === 'personal'">
            <!-- Pestañas -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pendientes-tab" data-bs-toggle="tab" data-bs-target="#pendientes-tab-pane" type="button" role="tab" aria-controls="pendientes-tab-pane" aria-selected="true">Crear Contratos</button>
                </li>
                <li class="nav-item" role="presentation">
                <button class="nav-link" id="completadas-tab" data-bs-toggle="tab" data-bs-target="#completadas-tab-pane" type="button" role="tab" aria-controls="completadas-tab-pane" aria-selected="false">Contratos Pendientes</button>
                </li>
                <li class="nav-item" role="presentation">
                <button class="nav-link" id="Registradas-tab" data-bs-toggle="tab" data-bs-target="#Registradas-tab-pane" type="button" role="tab" aria-controls="Registradas-tab-pane" aria-selected="false" >Contratos Registrados</button>
                </li>
            </ul>
            
            <!-- Tablas -->
            <div class="tab-content" id="myTabContent">
                <!-- Tabla de Crear Contrato -->
                <div class="tab-pane fade show active" id="pendientes-tab-pane" role="tabpanel" aria-labelledby="pendientes-tab" tabindex="0">
                    <div>
                
                    <table class="table table-striped table-bordered border-primary table-sm">
                        <thead>
                            <tr>
                                <th class="th-sm">Id Solicitud</th>
                                <th class="th-sm">Fecha</th>
                                <th class="th-sm">Importe</th>
                                <th class="th-sm">Crear Contrato</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let cotizacion of cotizaciones">
                                <td>{{ cotizacion.id_solicitud_cotizacion }}</td>
                                <td>{{ cotizacion.fecha_cotizacion }}</td>
                                <td>S/.{{cotizacion.importe}}</td>
                                <td>
                                    <button class="button" data-toggle="tooltip" title="Cotizar" (click)="crear_contrato(tipo,id,cotizacion.id_solicitud_cotizacion)">
                                        Crear
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tabla de Contratos Pendientes -->
            <div class="tab-pane fade" id="completadas-tab-pane" role="tabpanel" aria-labelledby="completadas-tab" tabindex="0">
                    <div>
                
                    <table class="table table-striped table-bordered border-primary table-sm">
                        <thead>
                            <tr>
                                <th class="th-sm">Id Contrato</th>
                                <th class="th-sm">Id Solicitud Cotizacion</th>
                                <th class="th-sm">Fecha de contrato</th>
                                <th class="th-sm">Fecha Firma de Solicitante</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let pendiente of contratosPendientes">
                                <td>{{pendiente.id_contrato}}</td>
                                <td>{{pendiente.id_solicitud_cotizacion}}</td>
                                <td>{{pendiente.fecha_contrato}}</td>
                                <td>{{pendiente.fecha_firma_solicitante}}</td>
                                <td>
                                    <button class="button" data-toggle="tooltip" title="Cotizar" (click)="firmar(tipo,id,pendiente.id_contrato)">
                                        Firmar
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Tabla de Contratos Registrados -->
            <div class="tab-pane fade" id="Registradas-tab-pane" role="tabpanel" aria-labelledby="Registradas-tab" tabindex="0">
                <div>        
                    <table class="table table-striped table-bordered border-primary table-sm">
                        <thead>
                            <tr>
                                <th class="th-sm">Id Contrato</th>
                                <th class="th-sm">Id Personal</th>
                                <th class="th-sm">Id Solicitante</th>
                                <th class="th-sm">Fecha de Registro</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let registrado of contratosRegistrados">
                                <td>{{registrado.id_contrato}}</td>
                                <td>{{registrado.id_personal}}</td>
                                <td>{{registrado.id_solicitante}}</td>
                                <td>{{registrado.fecha_registro}}</td>
                                <td>
                                    <button class="button" data-toggle="tooltip" title="Cotizar" (click)="cotizar()">
                                        Ver Contrato
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

        <div *ngIf="tipo === 'solicitante'">
            <!-- Pestañas -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="pendientes-tab" data-bs-toggle="tab" data-bs-target="#pendientes-tab-pane" type="button" role="tab" aria-controls="pendientes-tab-pane" aria-selected="true">Contratos Pendientes</button>
                </li>
                <li class="nav-item" role="presentation">
                <button class="nav-link" id="Registradas-tab" data-bs-toggle="tab" data-bs-target="#Registradas-tab-pane" type="button" role="tab" aria-controls="Registradas-tab-pane" aria-selected="false" >Contratos Registrados</button>
                </li>
            </ul>
            
            <!-- Tablas -->
            <div class="tab-content" id="myTabContent">

            <!-- Tabla de Contratos Pendientes -->
            <div class="tab-pane fade show active" id="pendientes-tab-pane" role="tabpanel" aria-labelledby="pendientes-tab" tabindex="0">
                    <div>
                
                    <table class="table table-striped table-bordered border-primary table-sm">
                        <thead>
                            <tr>
                                <th class="th-sm">Id Contrato</th>
                                <th class="th-sm">Id Solicitud Cotizacion</th>
                                <th class="th-sm">Fecha de contrato</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let pendiente of contratosPendientes">
                                <td>{{pendiente.id_contrato}}</td>
                                <td>{{pendiente.id_solicitud_cotizacion}}</td>
                                <td>{{pendiente.fecha_contrato}}</td>
                                <td>
                                    <button class="button" data-toggle="tooltip" title="Cotizar" (click)="firmar(tipo,id,pendiente.id_contrato)">
                                        Firmar
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Tabla de Contratos Registrados -->
            <div class="tab-pane fade" id="Registradas-tab-pane" role="tabpanel" aria-labelledby="Registradas-tab" tabindex="0">
                <div>        
                    <table class="table table-striped table-bordered border-primary table-sm">
                        <thead>
                            <tr>
                                <th class="th-sm">Id Contrato</th>
                                <th class="th-sm">Id Personal</th>
                                <th class="th-sm">Id Solicitante</th>
                                <th class="th-sm">Fecha de Registro</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let registrado of contratosRegistrados">
                                <td>{{registrado.id_contrato}}</td>
                                <td>{{registrado.id_personal}}</td>
                                <td>{{registrado.id_solicitante}}</td>
                                <td>{{registrado.fecha_registro}}</td>
                                <td>
                                    <button class="button" data-toggle="tooltip" title="Cotizar" (click)="cotizar()">
                                        Ver Contrato
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>
</div>